-- Trigger: tr_carts_create_update

-- DROP TRIGGER tr_carts_create_update ON public."Carts";

CREATE TRIGGER tr_carts_create_update
    BEFORE INSERT OR UPDATE 
    ON public."Carts"
    FOR EACH ROW
    EXECUTE FUNCTION public.tr_fc_carts_create_update();

COMMENT ON TRIGGER tr_carts_create_update ON public."Carts"
    IS 'Verify if the quantity to add is less or equal to available quantity.
Reduce the quantityAvailable on product to the Carts new line.';